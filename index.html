<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>jquery-show-loading demo</title>

    <link rel="stylesheet" href="index.css"/>
    <link rel="stylesheet" href="dist/showLoading.css"/>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="dist/jquery.showLoading.min.js"></script>
    <script>
        $(function () {
            var $body = $('body');
            var $time = $('#time');
            $body.showLoading();

            var duration = 5;
            var startTime = Date.now();
            var timer = setInterval(function () {
                var diff = (Date.now() - startTime) / 1000;
                if (diff > duration) {
                    $body.hideLoading();
                    $('h3.finished').removeClass('hidden');
                    $('h3.active').addClass('hidden');
                    clearInterval(timer);
                } else {
                    $time.html((duration - diff).toFixed(2));
                }
            }, 100);
        });
    </script>
</head>
<body>
    <h1>jquery-show-loading demo</h1>
    <br/>
    <h3 class="active">Loading mask and indicator will disappear in <span id="time"></span> seconds...</h3>
    <h3 class="finished hidden">Refresh page to see loading mask and indicator again.</h3>
</body>
</html>